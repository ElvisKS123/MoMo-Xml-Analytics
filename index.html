<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoMo Data Analysis Dashboard</title>
    <link rel="stylesheet" href="web/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading">
        <div class="spinner"></div>
        <p>Loading dashboard data...</p>
    </div>
    
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>MoMo Xml Analytics</h1>
            <p>Visualize and analyze your Mobile Money transaction data</p>
        </header>
        
        <!-- Navigation -->
        <nav class="nav">
            <div class="nav-item active" data-view="overview">
                <i class="fas fa-chart-pie nav-icon"></i>
                Overview
            </div>
            <div class="nav-item" data-view="transactions">
                <i class="fas fa-exchange-alt nav-icon"></i>
                Transactions
            </div>
        </nav>
        
        <!-- Overview View -->
        <div id="overview" class="view active">
            <div class="section-header">
                <h2>Dashboard Overview</h2>
                <p>Key metrics and visualizations of your MoMo transactions</p>
            </div>
            
            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-exchange-alt stat-icon"></i>
                    <h3>Total Transactions</h3>
                    <div class="stat-value" id="total-transactions">0</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-money-bill-wave stat-icon"></i>
                    <h3>Total Amount</h3>
                    <div class="stat-value" id="total-amount">RWF 0</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-arrow-down stat-icon"></i>
                    <h3>Cash In</h3>
                    <div class="stat-value" id="cash-in-count">0</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-arrow-up stat-icon"></i>
                    <h3>Cash Out</h3>
                    <div class="stat-value" id="cash-out-count">0</div>
                </div>
            </div>
            
            <!-- Charts -->
            <div class="charts-grid">
                <div class="chart-container">
                    <h3>Transactions by Type</h3>
                    <div class="chart-wrapper">
                        <canvas id="transactions-by-type-chart"></canvas>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>Transactions by Category</h3>
                    <div class="chart-wrapper">
                        <canvas id="transactions-by-category-chart"></canvas>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>Transaction Trends</h3>
                    <div class="chart-wrapper">
                        <canvas id="transaction-trends-chart"></canvas>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>Amount Distribution</h3>
                    <div class="chart-wrapper">
                        <canvas id="amount-distribution-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Transactions View -->
        <div id="transactions" class="view">
            <div class="section-header">
                <h2>Transaction History</h2>
                <p>View and filter your MoMo transaction records</p>
            </div>
            
            <!-- Filters -->
            <form id="filter-form" class="filters">
                <div class="filter-group">
                    <label for="date-from">From Date</label>
                    <input type="date" id="date-from" name="date-from">
                </div>
                <div class="filter-group">
                    <label for="date-to">To Date</label>
                    <input type="date" id="date-to" name="date-to">
                </div>
                <div class="filter-group">
                    <label for="type-filter">Type</label>
                    <select id="type-filter" name="type">
                        <option value="all">All Types</option>
                        <option value="CASH_IN">Cash In</option>
                        <option value="CASH_OUT">Cash Out</option>
                        <option value="OTHER">Other</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="category-filter">Category</label>
                    <select id="category-filter" name="category">
                        <option value="all">All Categories</option>
                        <option value="bills">Bills</option>
                        <option value="shopping">Shopping</option>
                        <option value="food">Food</option>
                        <option value="transport">Transport</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="education">Education</option>
                        <option value="health">Health</option>
                        <option value="transfer">Transfer</option>
                        <option value="airtime">Airtime</option>
                        <option value="withdrawal">Withdrawal</option>
                        <option value="deposit">Deposit</option>
                        <option value="salary">Salary</option>
                        <option value="savings">Savings</option>
                        <option value="loan">Loan</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="search-filter">Search</label>
                    <input type="text" id="search-filter" name="search" placeholder="Search transactions...">
                </div>
                <div class="filter-group">
                    <label>&nbsp;</label>
                    <button type="submit" class="filter-btn">Apply Filters</button>
                </div>
                <div class="filter-group">
                    <label>&nbsp;</label>
                    <button type="button" id="reset-filters" class="filter-btn reset">Reset</button>
                </div>
            </form>
            
            <!-- Transaction Table -->
            <div class="transaction-table-container">
                <table class="transaction-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Description</th>
                            <th>Phone</th>
                            <th>Reference</th>
                            <th>Type</th>
                            <th>Category</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody id="transaction-table-body">
                        <!-- Transaction rows will be inserted here -->
                    </tbody>
                </table>
            </div>
            
            <!-- Pagination -->
            <div class="pagination">
                <button id="prev-page" class="pagination-btn">
                    <i class="fas fa-chevron-left"></i> Previous
                </button>
                <span id="page-info">Page 1 of 1</span>
                <button id="next-page" class="pagination-btn">
                    Next <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
        
        
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2023 MoMo Data Analysis Dashboard | Group 32</p>
    </footer>
    
    <!-- Scripts -->
    <script src="web/chart_handler.js"></script>
    <script src="web/app.js"></script>
</body>
</html>